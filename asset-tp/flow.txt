Flow 0:
1. a supplier reports a raw material harvest.
2. a artisan or a workshop purchases the raw material and becomes the producer

Flow 1:
1. a buyer (could be any account) creates a work order and a product batch.
2. the buyer locks the work order.
3. the assignee of the work order (could be a artisan or a workshop) accepts the work order but only if its locked and updates its status to "accepted" and the product batch is transfered to him (he becomes the owner)
4. the assignee produces the product batch and updates its status accordingly.
5. the assignee currently owns the product batch.
6. after production is complete the assignee locks the product batch.
7. the products are transfered to the buyer (each product individually). But the batch is still owned by the assignee.
8. the addresses of the products are made up of the product batch address and the product's batch index
9. The buyer may be a wholesaler or a retailer. so he may sell the products to other parties.

Flow 1 (assignee rejects the work order):
The work order is unlocked and the product batch is returned to the buyer.
He can assign it to another artisan or workshop.


Flow 2:
1. the product batch is created by the artisan or workshop. and no work order is involved.
the flow is the same as flow 1


# Additional Flows

Flow 3: Resale/Secondary Market
1. After a product is sold to a buyer (retailer/wholesaler/end customer), the buyer can transfer ownership to another party (resale).
2. Provenance and ownership history are updated for the product and the new owner.
3. Warranty and repair eligibility may transfer to the new owner.

Flow 4: Warranty & Repair
1. After purchase, a buyer can register a warranty for a product.
2. If a product needs repair, a work order is created for repair, assigned to an artisan/workshop.
3. The repair work order is accepted, completed, and the product's repair history is updated.

Flow 5: Quality Certification
1. After production, a product or batch can be submitted for quality certification.
2. Certification entity updates product/batch with certification status and details.
3. Certification status is visible to buyers and linked to the product/batch.

Flow 6: Bulk Transfer
1. A wholesaler or distributor can transfer multiple products in a single transaction to another party (e.g., retailer).
2. Ownership and inventory are updated for all transferred items.

Flow 7: Sustainability & Compliance
1. Entities (NGOs, government) can update sustainability/compliance scores for batches/products.
2. These scores are linked to products and visible to buyers.

Notes:
All entities must be updated accordingly throughout the flow.

Rules:
Only a SupplierAccount can create a raw material assets
Only an artisan or workshop can be the assignee of a work order
